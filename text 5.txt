<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin</title>
<style>
body{font-family:Arial;background:#f2f2f2;padding:20px;}
input,button{padding:8px;margin-top:5px;}
table{width:100%;border-collapse:collapse;margin-top:20px;}
th,td{border:1px solid #ccc;padding:5px;text-align:left;}
button{background:green;color:white;border:none;}
</style>
</head>

<body>

<h3>Coordinator Login</h3>
<input id="pass" type="password" placeholder="Enter Password">
<button onclick="login()">Login</button>

<div id="panel" style="display:none;">
<h2>All Registrations</h2>
<button onclick="download()">Download CSV</button>

<table>
<thead>
<tr><th>Name</th><th>NIN</th><th>Phone</th><th>DOB</th></tr>
</thead>
<tbody id="list"></tbody>
</table>
</div>

<script>
function login(){
 if(document.getElementById("pass").value=="1234"){
  document.getElementById("panel").style.display="block";
 }
}

let data=JSON.parse(localStorage.getItem("reg"))||[];
let out="";
data.forEach(r=>{
 out+=`<tr><td>${r.Name}</td><td>${r.NIN}</td><td>${r.Phone}</td><td>${r.DOB}</td></tr>`;
});
document.getElementById("list").innerHTML=out;

function download(){
 let csv="Name,NIN,Phone,DOB\n";
 data.forEach(r=>{
  csv+=`${r.Name},${r.NIN},${r.Phone},${r.DOB}\n`;
 });
 let a=document.createElement("a");
 a.href="data:text/csv;charset=utf-8,"+encodeURI(csv);
 a.download="registrations.csv";
 a.click();
}
</script>
</body>
</html>